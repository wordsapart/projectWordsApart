<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WordsApart</title>
    <meta name="description" content="A web-based implementation of WordsApart">
    <meta name="author" content="Andrius Druzinis-Vitkus">
    <script src="https://unpkg.com/interactjs@1.3/dist/interact.min.js"></script>
</head>
<script>
interact('.draggable')
  .draggable({
    inertia: true, // enable inertial throwing
    onmove: dragMoveListener
  })

  const audioCache = {}

  function playSound(event) {
      var soundFile = event.target.getAttribute('data-sound');
      if (!soundFile) soundFile = event.target.parentElement.getAttribute('data-sound');
      console.debug(soundFile)
      if (!audioCache[soundFile]) audioCache[soundFile] = new Audio(soundFile)
      audioCache[soundFile].play();
  }

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }
  </script>
  <style>
.draggable {
  display: inline-block;
  background-color: transparent;
  color: gray;
  padding: 2px;
  margin: 0;
  user-select: none;
  -webkit-transform: translate(0px, 0px);
          transform: translate(0px, 0px);

    position:fixed; 

    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

body {
    margin: 0;
    padding: 0;
    width: 100%;
}
</style>
<body>
    <div class="draggable" style="top:200px; left: 300px" data-sound="labasvyrai.wav">
        <p>Words</p>
    </div>
    <div class="draggable" style="top:400px; left: 200px" data-sound="blah.wav">
        <p>Apart</p>
    </div>
</body>
<script>
document.querySelectorAll('.draggable').forEach(el => {
    el.addEventListener("mousedown", playSound, false)
    el.addEventListener("touchstart", playSound, false)
})
</script>
</html>