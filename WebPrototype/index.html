<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WordsApart</title>
    <meta name="description" content="A web-based implementation of WordsApart">
    <meta name="author" content="Andrius Druzinis-Vitkus">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://unpkg.com/interactjs@1.3/dist/interact.min.js"></script>
</head>
<script>
interact('.draggable')
  .draggable({
    inertia: true, // enable inertial throwing
    onmove: dragMoveListener
  })

  const audioCache = {}

  function playSound(event) {
      var soundFile = event.target.getAttribute('data-sound');
      if (!soundFile) soundFile = event.target.parentElement.getAttribute('data-sound');
      console.debug(soundFile)
      if (!audioCache[soundFile]) audioCache[soundFile] = new Audio(soundFile)
      audioCache[soundFile].play();
  }

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }
  </script>
  <style>
.draggable {
  display: inline-block;
  background-color: transparent;
  color: gray;
  padding: 2px;
  margin: 0;
  user-select: none;
  -webkit-transform: translate(0px, 0px);
          transform: translate(0px, 0px);

    position:fixed; 

    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

body {
    margin: 0;
    padding: 0;
    width: 100%;
}
</style>
<body>
    <div class="draggable" style="top:100px; left: 350px" data-sound="1_ibrides.wav">
        <p>įbridęs</p>
    </div>
    <div class="draggable" style="top:130px; left: 350px" data-sound="1_vidury.wav">
        <p>vidury</p>
    </div>
    <div class="draggable" style="top:160px; left: 350px" data-sound="1_upes.wav">
        <p>upės</p>
    </div>
    <div class="draggable" style="top:210px; left: 350px" data-sound="1_stovi_1.wav">
        <p>stovi</p>
    </div>
    <div class="draggable" style="top:240px; left: 350px" data-sound="1_zmogus.wav">
        <p>žmogus</p>
    </div>
    <div class="draggable" style="top:290px; left: 350px" data-sound="1_atrodo.wav">
        <p>atrodo</p>
    </div>
    <div class="draggable" style="top:320px; left: 350px" data-sound="1_niekas.wav">
        <p>niekas</p>
    </div>
    <div class="draggable" style="top:340px; left: 350px" data-sound="1_jam.wav">
        <p>jam</p>
    </div> 
    <div class="draggable" style="top:370px; left: 350px" data-sound="1_lyg.wav">
        <p>lyg</p>
    </div>
    <div class="draggable" style="top:400px; left: 350px" data-sound="1_nerupi.wav">
        <p>nerūpi</p>
    </div>
    <div class="draggable" style="top:450px; left: 350px" data-sound="1_ramus.wav">
        <p>ramus</p>
    </div>
    <div class="draggable" style="top:480px; left: 350px" data-sound="1_stovi_2.wav">
        <p>stovi</p>
    </div>
    <div class="draggable" style="top:510px; left: 350px" data-sound="1_jis.wav">
        <p>jis</p>
    </div>
    <div class="draggable" style="top:540px; left: 350px" data-sound="1_ir.wav">
        <p>ir</p>
    </div>
    <div class="draggable" style="top:570px; left: 350px" data-sound="1_nejudedamas.wav">
        <p>nejudėdamas</p>
    </div>
    <div class="draggable" style="top:600px; left: 350px" data-sound="1_ziuri.wav">
        <p>žiūri</p>
    </div>
    <div class="draggable" style="top:650px; left: 350px" data-sound="1_kaip_1.wav">
        <p>kaip</p>
    </div>
    <div class="draggable" style="top:680px; left: 350px" data-sound="1_juda.wav">
        <p>juda</p>
    </div>
    <div class="draggable" style="top:710px; left: 350px" data-sound="1_plude.wav">
        <p>plude</p>
    </div>
    <div class="draggable" style="top:740px; left: 350px" data-sound="1_kaip_2.wav">
        <p>kaip</p>
    </div>
    <div class="draggable" style="top:770px; left: 350px" data-sound="1_plaukia.wav">
        <p>plaukia</p>
    </div>
    <div class="draggable" style="top:800px; left: 350px" data-sound="1_rukas.wav">
        <p>rūkas</p>
    </div>
</body>
<script>
document.querySelectorAll('.draggable').forEach(el => {
    el.addEventListener("mousedown", playSound, false)
    el.addEventListener("touchstart", playSound, false)
})
</script>
</html>